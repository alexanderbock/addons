local assetHelper = asset.require('util/asset_helper')
local constellationHelper = asset.require('addons/constellations/generate_constellations')

local constellationsCSV = asset.localResource('constellation_data.csv')

local nodes = {}

asset.onInitialize(function ()
  nodes = constellationHelper.getConstellations('Constellation Art', constellationsCSV)
  for _, n in ipairs(nodes) do
    openspace.addSceneGraphNode(n);
  end
end)

asset.onDeinitialize(function ()
  for _, n in ipairs(nodes) do
    openspace.removeSceneGraphNode(n.Identifier);
  end
end)
